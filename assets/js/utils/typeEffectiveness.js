/**
 * Type Effectiveness Data
 * 
 * This file is AUTO-GENERATED by generate_type_effectiveness.py
 * DO NOT EDIT MANUALLY - changes will be overwritten
 * 
 * To update type effectiveness data:
 * 1. Edit TYPE_EFFECTIVENESS in pokeapi_fetch.py
 * 2. Run: python generate_type_effectiveness.py
 * 
 * Generated: 2025-11-02 14:04:25
 */

/**
 * Type effectiveness multipliers for Pokemon type matchups
 * 
 * Structure: {attacking_type: {defending_type: multiplier}}
 * 
 * Multipliers:
 * - 2.0: Super effective
 * - 1.0: Normal damage (not listed)
 * - 0.5: Not very effective
 * - 0: No effect (immune)
 * 
 * @type {Object.<string, Object.<string, number>>}
 */
export const TYPE_EFFECTIVENESS = {
  "normal": {
    "rock": 0.5,
    "ghost": 0,
    "steel": 0.5
  },
  "fire": {
    "fire": 0.5,
    "water": 0.5,
    "grass": 2,
    "ice": 2,
    "bug": 2,
    "rock": 0.5,
    "dragon": 0.5,
    "steel": 2
  },
  "water": {
    "fire": 2,
    "water": 0.5,
    "grass": 0.5,
    "ground": 2,
    "rock": 2,
    "dragon": 0.5
  },
  "electric": {
    "water": 2,
    "electric": 0.5,
    "grass": 0.5,
    "ground": 0,
    "flying": 2,
    "dragon": 0.5
  },
  "grass": {
    "fire": 0.5,
    "water": 2,
    "grass": 0.5,
    "poison": 0.5,
    "ground": 2,
    "flying": 0.5,
    "bug": 0.5,
    "rock": 2,
    "dragon": 0.5,
    "steel": 0.5
  },
  "ice": {
    "fire": 0.5,
    "water": 0.5,
    "grass": 2,
    "ice": 0.5,
    "ground": 2,
    "flying": 2,
    "dragon": 2,
    "steel": 0.5
  },
  "fighting": {
    "normal": 2,
    "ice": 2,
    "poison": 0.5,
    "flying": 0.5,
    "psychic": 0.5,
    "bug": 0.5,
    "rock": 2,
    "ghost": 0,
    "dark": 2,
    "steel": 2,
    "fairy": 0.5
  },
  "poison": {
    "grass": 2,
    "poison": 0.5,
    "ground": 0.5,
    "rock": 0.5,
    "ghost": 0.5,
    "steel": 0,
    "fairy": 2
  },
  "ground": {
    "fire": 2,
    "electric": 2,
    "grass": 0.5,
    "poison": 2,
    "flying": 0,
    "bug": 0.5,
    "rock": 2,
    "steel": 2
  },
  "flying": {
    "electric": 0.5,
    "grass": 2,
    "fighting": 2,
    "bug": 2,
    "rock": 0.5,
    "steel": 0.5
  },
  "psychic": {
    "fighting": 2,
    "poison": 2,
    "psychic": 0.5,
    "dark": 0,
    "steel": 0.5
  },
  "bug": {
    "fire": 0.5,
    "grass": 2,
    "fighting": 0.5,
    "poison": 0.5,
    "flying": 0.5,
    "psychic": 2,
    "ghost": 0.5,
    "dark": 2,
    "steel": 0.5,
    "fairy": 0.5
  },
  "rock": {
    "fire": 2,
    "ice": 2,
    "fighting": 0.5,
    "ground": 0.5,
    "flying": 2,
    "bug": 2,
    "steel": 0.5
  },
  "ghost": {
    "normal": 0,
    "psychic": 2,
    "ghost": 2,
    "dark": 0.5
  },
  "dragon": {
    "dragon": 2,
    "steel": 0.5,
    "fairy": 0
  },
  "dark": {
    "fighting": 0.5,
    "psychic": 2,
    "ghost": 2,
    "dark": 0.5,
    "fairy": 0.5
  },
  "steel": {
    "fire": 0.5,
    "water": 0.5,
    "electric": 0.5,
    "ice": 2,
    "rock": 2,
    "steel": 0.5,
    "fairy": 2
  },
  "fairy": {
    "fire": 0.5,
    "fighting": 2,
    "poison": 0.5,
    "dragon": 2,
    "dark": 2,
    "steel": 0.5
  }
};

/**
 * Calculate damage multiplier for an attacking type against defending types
 * 
 * @param {string} attackingType - The type of the attacking move
 * @param {Array<string>} defendingTypes - Array of defending Pokemon's types
 * @returns {number} Combined damage multiplier
 */
export function calculateTypeEffectiveness(attackingType, defendingTypes) {
    let multiplier = 1;
    
    const effectiveness = TYPE_EFFECTIVENESS[attackingType.toLowerCase()] || {};
    
    for (const defendingType of defendingTypes) {
        const typeMultiplier = effectiveness[defendingType.toLowerCase()];
        if (typeMultiplier !== undefined) {
            multiplier *= typeMultiplier;
        }
    }
    
    return multiplier;
}

/**
 * Get effectiveness category for a multiplier
 * 
 * @param {number} multiplier - Damage multiplier
 * @returns {string} Category: 'immune', 'not-very-effective', 'normal', or 'super-effective'
 */
export function getEffectivenessCategory(multiplier) {
    if (multiplier === 0) return 'immune';
    if (multiplier < 1) return 'not-very-effective';
    if (multiplier > 1) return 'super-effective';
    return 'normal';
}

/**
 * Get all types that a given type is super effective against
 * 
 * @param {string} attackingType - The attacking type
 * @returns {Array<string>} Array of type names
 */
export function getSuperEffectiveAgainst(attackingType) {
    const effectiveness = TYPE_EFFECTIVENESS[attackingType.toLowerCase()] || {};
    return Object.keys(effectiveness).filter(type => effectiveness[type] > 1);
}

/**
 * Get all types that a given type is not very effective against
 * 
 * @param {string} attackingType - The attacking type
 * @returns {Array<string>} Array of type names
 */
export function getNotVeryEffectiveAgainst(attackingType) {
    const effectiveness = TYPE_EFFECTIVENESS[attackingType.toLowerCase()] || {};
    return Object.keys(effectiveness).filter(type => effectiveness[type] < 1 && effectiveness[type] > 0);
}

/**
 * Get all types that a given type has no effect against
 * 
 * @param {string} attackingType - The attacking type
 * @returns {Array<string>} Array of type names
 */
export function getNoEffectAgainst(attackingType) {
    const effectiveness = TYPE_EFFECTIVENESS[attackingType.toLowerCase()] || {};
    return Object.keys(effectiveness).filter(type => effectiveness[type] === 0);
}

/**
 * Get type matchups for defending Pokemon types
 * Returns weaknesses, resistances, and immunities
 * 
 * @param {Array<string>} pokemonTypes - Array of Pokemon's types (e.g., ['Fire', 'Flying'])
 * @returns {Object} Object with weaknesses, resistances, and immunities
 */
export function getTypeMatchups(pokemonTypes) {
    const matchups = {
        weaknesses: {},
        resistances: {},
        immunities: []
    };
    
    // Check all possible attacking types
    const allTypes = Object.keys(TYPE_EFFECTIVENESS);
    
    for (const attackingType of allTypes) {
        const multiplier = calculateTypeEffectiveness(attackingType, pokemonTypes);
        
        if (multiplier === 0) {
            matchups.immunities.push(attackingType);
        } else if (multiplier > 1) {
            matchups.weaknesses[attackingType] = multiplier;
        } else if (multiplier < 1) {
            matchups.resistances[attackingType] = multiplier;
        }
        // multiplier === 1 means normal effectiveness, we don't track that
    }
    
    return matchups;
}
